{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["window.$ = window.jQuery =  require('jquery');\nwindow.slick =              require('./vendor/bower/slick');\nwindow.styler =             require('jquery.formstyler');\nwindow.gmaps =              require('gmaps');\nwindow.inputmask =          require('jquery.inputmask');\nwindow.validate =           require('jquery-validation');\n// window.validate =           require('validate-js');\n\n$(document).ready(function() {\n\n    // Logged/SignIn\n    $(\".b-sigin\").click(function () {\n        if (!($(this).hasClass(\"_hide\"))){\n         $(this).addClass(\"_hide\");\n         $(\".b-loggedin\").removeClass(\"_hide\");\n        }\n    });\n    $(\".b-loggedin\").click(function () {\n        if (!($(this).hasClass(\"_hide\"))){\n            $(this).addClass(\"_hide\");\n            $(\".b-sigin\").removeClass(\"_hide\");\n        }\n    });\n\n    // Index top slider\n    $(\"#index-slider\").slick({\n        dots: true,\n        fade: false,\n        autoplay: true,\n        autoplaySpeed: 3000\n    });\n\n    // Zones slider\n    $(\".zones-slider\").slick({\n        dots: false,\n        fade: false,\n        autoplay: false,\n        autoplaySpeed: 3000\n    });\n\n    $(\"#js-zones-menu\").find(\".link\").click(function () {\n        var _this = $(this);\n        var links = $(\"#js-zones-menu\").find(\".link\");\n\n        // $(\".zones-slider\").slick('unslick');\n\n        links.removeClass(\"-active\");\n        _this.addClass(\"-active\");\n\n        if (_this.hasClass(\"-coworking\")){\n            $(\".zones-slider\").removeClass(\"-active\");\n            $(\".zones-slider.-coworking\").addClass(\"-active\").slick('setPosition');\n        } else\n        if(_this.hasClass(\"-offices\")){\n            $(\".zones-slider\").removeClass(\"-active\");\n            $(\".zones-slider.-offices\").addClass(\"-active\").slick('setPosition');\n        } else\n        if(_this.hasClass(\"-conference\")){\n            $(\".zones-slider\").removeClass(\"-active\");\n            $(\".zones-slider.-conference\").addClass(\"-active\").slick('setPosition');\n        } else\n        if(_this.hasClass(\"-negotiations\")){\n            $(\".zones-slider\").removeClass(\"-active\");\n            $(\".zones-slider.-negotiations\").addClass(\"-active\").slick('setPosition');\n        } else\n        if(_this.hasClass(\"-kitchen\")){\n            $(\".zones-slider\").removeClass(\"-active\");\n            $(\".zones-slider.-kitchen\").addClass(\"-active\").slick('setPosition');\n        } else\n        if(_this.hasClass(\"-recreation\")){\n            $(\".zones-slider\").removeClass(\"-active\");\n            $(\".zones-slider.-recreation\").addClass(\"-active\").slick('setPosition');\n        }\n    });\n\n    // Style inputs\n    $('select.js-select').styler();\n    $('input.js-input-checkbox').styler();\n\n    // Map\n    var map = new gmaps({\n        el: '#index-map',\n        lat: -12.043333,\n        lng: -77.028333,\n        scrollwheel: false\n    });\n    map.addMarker({\n        lat: -12.043333,\n        lng: -77.028333,\n        title: 'Lima',\n        infoWindow: {\n            content: '<p>HTML Content</p>'\n        }\n    });\n\n    // Partners slider\n    $(\"#partner-slider\").slick({\n        dots: false,\n        infinite: true,\n        slidesToShow: 4,\n    });\n    \n    $('.js-article-preview').click(function () {\n        var _this = $(this);\n        $('.js-article-text').toggleClass(\"_hide\")\n    });\n\n    // Form input[type=tel] masking\n    $('.js-input-tel').inputmask({\"mask\": \"(9) (999) 999-9999\", greedy: false});\n\n    // Form validation\n    var form = $(\"form\");\n    $.validator.messages.required = '';\n    form.each( function() {\n        $(this).validate({\n            errorClass: \"-error\",\n            validClass: \"-valid\",\n            errorElement: \"em\",\n            highlight: function( element, errorClass, validClass ) {\n                $(element).parent().addClass(errorClass).removeClass(validClass);\n            },\n            unhighlight: function( element, errorClass, validClass ) {\n                $(element).parent().removeClass(errorClass).addClass(validClass);\n            },\n            errorPlacement: function(error,element) {\n                return true;\n            }\n        });\n    } );\n\n    // Top menu toggler\n    var toggler = document.querySelector('.js-top-toggler');\n    var topMenu = document.querySelector('#js-top-menu');\n    var menuList = topMenu.querySelectorAll('ul.list');\n    toggler.onclick = function(e){\n        e.preventDefault();\n        toggler.classList.toggle('-open');\n        for (i=0; i < menuList.length; i++) {\n            menuList[i].classList.toggle('-open');\n        }\n    };\n\n    // Smooth scrolling\n    $(function() {\n        $('a[href*=\"#\"]:not([href=\"#\"])').click(function() {\n            if (location.pathname.replace(/^\\//,'') == this.pathname.replace(/^\\//,'') && location.hostname == this.hostname) {\n                var target = $(this.hash);\n                target = target.length ? target : $('[name=' + this.hash.slice(1) +']');\n                if (target.length) {\n                    $('html, body').animate({\n                        scrollTop: target.offset().top - 140\n                    }, 1000);\n                    toggler.classList.remove('-open');\n                    for (i=0; i < menuList.length; i++) {\n                        menuList[i].classList.remove('-open');\n                    }\n                    return false;\n                }\n            }\n        });\n    });\n\n    // Buy popup\n    $(\".price-block\").find(\".buy\").click(function (data) {\n        var _this = $(this);\n\n        $.get('partials/components/buy-popup.html', function(data) {\n            $(\"header\").append(data);\n            console.info('Загрузка завершена.');\n            $(\"html\").addClass(\"_unscrolled\")\n        });\n    });\n\n    $(document).on('click', '.close', function () {\n        $(this).parents('div').fadeOut();\n    });\n});"],"file":"app.js","sourceRoot":"/source/"}